# OpenVPN Configuration Template
# Standard configuration for PIA VPN in LXC containers

client
dev tun
proto udp
remote us-east.privateinternetaccess.com 1198
resolv-retry infinite
nobind
persist-key
persist-tun
cipher aes-128-cbc
auth sha1
tls-client
remote-cert-tls server
auth-user-pass /etc/openvpn/pia/credentials
compress lzo
verb 1
reneg-sec 0
crl-verify /etc/openvpn/pia/crl.rsa.2048.pem
ca /etc/openvpn/pia/ca.rsa.2048.crt

# Prevent DNS leaks - use internal DNS
script-security 2
up /etc/openvpn/pia/update-resolv-conf
down /etc/openvpn/pia/update-resolv-conf

# Custom routes to preserve local network access
route-nopull
route 0.0.0.0 128.0.0.0 vpn_gateway
route 128.0.0.0 128.0.0.0 vpn_gateway

# Allow local network access (adjust for your network)
route 10.92.0.0 255.254.0.0 net_gateway
route 192.168.0.0 255.255.0.0 net_gateway

# Disable IPv6 to prevent leaks
pull-filter ignore "dhcp-option DNS6"
pull-filter ignore "tun-ipv6"
pull-filter ignore "ifconfig-ipv6"
